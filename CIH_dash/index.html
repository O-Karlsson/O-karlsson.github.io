<!DOCTYPE html>
<html lang="en">
<head>
        <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7HVHT8G4JL"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-7HVHT8G4JL');
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Data Dashboard of the Lancet Commission on Investing in Health</title>

    <link rel="icon" href="GH2050-circle.png" type="image/pngn">
    <link rel="stylesheet" href="dash_dev_style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/14.7.0/nouislider.min.css">

    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/14.7.0/nouislider.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>


</head>
<body>

<div class="header">
    <img src="GH2050-Logo.jpg" alt="CIHlogo" class="profile-image">

</div>

<h1>Lancet Commission on Investing in Health<br>Data Dashboard</h1>

<div class="container">
    <hr class="top"><h1 class="sect">Select locations and sex</h1></hr>
    <hr class="bottom"></hr>
    
<!-- Clear selection button -->
<div class="section" height="20000px"><button id="clearSelection">Clear Selection</button></div>
<div class="figure-note"><sup>1</sup> Earliest year available for PPD and LE is shown in parentheses if other than 1950.<br><sup>2</sup> Not available in WHO GHE (cause specific deaths).</div>
<!-- Select sex -->
    <div class="section checkboxes">      
        <div>
            <label><input type="checkbox" name="sex" value="both" checked> Both</label>
            <label><input type="checkbox" name="sex" value="female"> Female</label>
            <label><input type="checkbox" name="sex" value="male"> Male</label>
        </div>

<!-- Select country/region -->
    <div class= "section" id="treeContainer"></div>
</div>

<hr class="top"><h1 class="sect">Life expectancy decomposition by cause of death</h1></hr>
<hr class="bottom"></hr>


<h2 class="expandable">• Life expectancy gap compared to the 2019 North Atlantic due to specific causes of death</h2>
<div class="content" data-height="30000" style="max-height: 0; overflow: hidden;">
    <div class="figure-note">Note: The bars show how much of the life expectancy gap (in years—hover/touch for %) is attributable to the cause of death indicated on the y-axis. All comparisons are made to the North Atlantic (ie, Western Europe and Canada) in 2019 (where life expectancy was the greatest of all the CIH regions: 82 years overall, 84 for females, and 80 for males). Only includes countries and regions with at least one year total gap. The I8 are eight infectious and maternal and child health priority conditions. The NCD7 are seven priority noncommunicable diseases and injuries. See <a href="https://globalhealth2050.org/files/2024/10/Priority-health-conditions-and-life-expectancy-deficits-by-cause-of-death-a-life-table-decomposition.pdf" target="_blank">CIH background paper</a> for details. Data source: <a href="https://www.who.int/data/global-health-estimates/" target="_blank">WHO GHE</a> and <a href="https://population.un.org/wpp/" target="_blank">UN WPP</a>.</div>
    <div id="chart-container-1"  data-dataset="e0decomp.csv" data-outcome="P" data-x-axis-title="Life expectancy gap accounted for, years" data-type="default" ></div>
</div>



<h2 class="expandable">• Life expectancy changes over time due to specific causes of death</h2>
<div class="content" data-height="30000" style="max-height: 0; overflow: hidden;">
    <div class="figure-note">Note: The bars show how much of the life expectancy change (in years—hover/touch for %) is attributable to the cause of death indicated on the y-axis. Changes in years of life expectancy attributable to specific causes of death are shown. Percentages of total change are negative if the impact of the specific cause was in the opposite direction of the total change (eg, if there was an increase in life expectancy, the increase would have been larger had it not been for rising mortality from that cause). The I8 are eight infectious and maternal and child health priority conditions. The NCD7 are seven priority noncommunicable diseases and injuries. See <a href="https://globalhealth2050.org/files/2024/10/Priority-health-conditions-and-life-expectancy-deficits-by-cause-of-death-a-life-table-decomposition.pdf" target="_blank">CIH background paper</a> for details. Data source: <a href="https://www.who.int/data/global-health-estimates/" target="_blank">WHO GHE</a> and <a href="https://population.un.org/wpp/" target="_blank">UN WPP</a>.</div>
    <div id="chart-container-2"  data-dataset="e0decomp.csv" data-outcome="T" data-x-axis-title="Life expectancy change accounted for, years" data-type="alternative" ></div>
</div>



<hr class="top"><h1 class="sect">All Cause Mortality</h1></hr>
<hr class="bottom"></hr>
    <h2 class="expandable">• Probability of premature death (PPD)</h2>
    <div class="content" data-height="3000" style="max-height: 0; overflow: hidden;">
    <div class="line-chart-container line-chart-container-1" style="width: 100%; height: auto;" data-outcome='q70'  data-file="ppddata.csv" yaxislabel="PPD, %" x-variable="year" xaxislabel="Year">
        <svg id="line-chart-1"></svg>
        <div id="legend-1" class="legend" ></div>
        <div class="figure-note">Note: PPD is the probability of dying before age 70. Data source: <a href="https://population.un.org/wpp/" target="_blank">UN WPP</a> (after 1950) and <a href="https://www.mortality.org/" target="_blank">HMD</a> (before 1950 , when available).</div>
        <button onclick="downloadAsPNG('line-chart-1', 'legend-1')">Download Figure</button>
        <div class="slider-container-1">
            <div id="yearRangeSlider-1"></div>
        </div>
    </div>
</div>

<h2 class="expandable">• Life Expectancy (LE)</h2>
<div class="content" data-height="3000" style="max-height: 0; overflow: hidden;">
<div class="line-chart-container line-chart-container-2" style="width: 100%; height: auto;" data-outcome='e0'  data-file="ppddata.csv" yaxislabel="LE, years" x-variable="year" xaxislabel="Year">
    <svg id="line-chart-2"></svg>
    <div id="legend-2" class="legend" ></div>
    <div class="figure-note">Data source: <a href="https://population.un.org/wpp/" target="_blank">UN WPP</a> (after 1950) and <a href="https://www.mortality.org/" target="_blank">HMD</a> (before 1950 , when available).</div>
    <button onclick="downloadAsPNG('line-chart-2', 'legend-2')">Download Figure</button>
    <div class="slider-container-2">
    <div id="yearRangeSlider-2"></div>
    </div>
</div>
</div>

<h2 class="expandable">• Crude mortality rate (CMR) per 1000 population</h2>
<div class="content" data-height="3000" style="max-height: 0; overflow: hidden;">
<div class="line-chart-container line-chart-container-3" style="width: 100%; height: auto;" data-outcome='rcdr'  data-file="ppddata.csv" yaxislabel="CMR per 1000 population" x-variable="year" xaxislabel="Year">

    <svg id="line-chart-3"></svg>
    <div id="legend-3" class="legend" ></div>
    <div class="figure-note">Note: Working age is defined as 15-64 years. Data source: <a href="https://population.un.org/wpp/" target="_blank">UN WPP</a>.</div>
    <button onclick="downloadAsPNG('line-chart-3', 'legend-3')">Download Figure</button>

    <div class="slider-container-3">
        <div id="yearRangeSlider-3"></div>
    
    </div>
</div>
</div>


<h2 class="expandable">• Crude mortality rate (CMR) per 1000 working-age population</h2>
<div class="content" data-height="3000" style="max-height: 0; overflow: hidden;">
<div class="line-chart-container line-chart-container-4" style="width: 100%; height: auto;" data-outcome='rcdrs'  data-file="ppddata.csv" yaxislabel="CMR per 1000 working-age" x-variable="year" xaxislabel="Year">

    <svg id="line-chart-4"></svg>
    <div id="legend-4" class="legend" ></div>
    <div class="figure-note">Note: Working age is defined as 15-64 years. Data source: <a href="https://population.un.org/wpp/" target="_blank">UN WPP</a>.</div>
    <button onclick="downloadAsPNG('line-chart-4', 'legend-4')">Download Figure</button>

    <div class="slider-container-4">
        <div id="yearRangeSlider-4"></div>
    
    </div>
</div>
</div>


<h2 class="expandable">• Probability of death between birth and age x in 2023</h2>
<div class="content" data-height="3000" style="max-height: 0; overflow: hidden;">
<div class="line-chart-container line-chart-container-5" style="width: 100%; height: auto;" data-outcome='qa'  data-file="qadata.csv" yaxislabel="Probability of death by age x, %" x-variable="age" xaxislabel="Age = x">

    <svg id="line-chart-5"></svg>
    <div id="legend-5" class="legend" ></div>
    <div class="figure-note">Note: The line show the probability of dying before the age indicated on the x-axis in 2023. Data source: <a href="https://population.un.org/wpp/" target="_blank">UN WPP</a>.</div>
    <button onclick="downloadAsPNG('line-chart-5', 'legend-5')">Download Figure</button>
    
    <div class="slider-container-5">
        <div id="yearRangeSlider-5"></div>
    </div>
</div>
</div>




<h2 class="expandable">• Probability of death between age 70 and age x in 2023</h2>
<div class="content" data-height="3000" style="max-height: 0; overflow: hidden;">
<div class="line-chart-container line-chart-container-6" style="width: 100%; height: auto;" data-outcome='p70'  data-file="qadata.csv" yaxislabel="Probability of death by age x, %" x-variable="age" xaxislabel="Age = x">

    <svg id="line-chart-6"></svg>
    <div id="legend-6" class="legend" ></div>
    <div class="figure-note">Note: The line show the probability of dying between age 70 and the age indicated on the x-axis in 2023. Data source: <a href="https://population.un.org/wpp/" target="_blank">UN WPP</a>.</div>
    <button onclick="downloadAsPNG('line-chart-6', 'legend-6')">Download Figure</button>
    
    <div class="slider-container-6">
        <div id="yearRangeSlider-6"></div>
    </div>
</div>
</div>


<h2 class="expandable">• Age specific probability of death in 2023</h2>
<div class="content" data-height="3000" style="max-height: 0; overflow: hidden;">
<div class="line-chart-container line-chart-container-7" style="width: 100%; height: auto;" data-outcome='nqx'  data-file="qadata.csv" yaxislabel="Probability of death, %" x-variable="age" xaxislabel="Age">

    <svg id="line-chart-7"></svg>
    <div id="legend-7" class="legend" ></div>
    <div class="figure-note">Note: The line show the probability of dying at the age indicated on the x-axis in 2023. Single-age intervals are used. Data source: <a href="https://population.un.org/wpp/" target="_blank">UN WPP</a>.</div>
    <button onclick="downloadAsPNG('line-chart-7', 'legend-7')">Download Figure</button>
    
    <div class="slider-container-7">
        <div id="yearRangeSlider-7"></div>
    </div>
</div>
</div>






<!-- 

    <h2 class="expandable">• Metric Q</h2>
    <div class="content">
        <h3 class="subheading">Metric Q1</h3>
        <div class="content" style = "height: 1200px;" data-height="1200px">
       </div>
        <h3 class="subheading">Metric Q2</h3>
        <div class="content">
            <p>Coming soon.</p>
        </div>
    </div>
-->


</div>
<button id="backToMenu">Back to Menu</button>

<script src="ppdfig_dev_script.js"></script>
<script src="selections_dev_script.js"></script>
<script src="dash_dev_script.js"></script>
<script src="e0decomp_fig.js"></script>
</body>
</html>
